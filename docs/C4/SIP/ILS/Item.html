<html><head><title>ILS::Item</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>" />

<link rel="stylesheet" href="../../../sub.css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Tue Dec 13 12:29:21 2022 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>ILS::Item - Portable Item status object class for SIP</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>        use ILS;
        use ILS::Item;

        # Look up item based on item_id
        my $item = new ILS::Item $item_id;

        # Basic object access methods
    $item_id    = $item-&#62;id;
    $title      = $item-&#62;title_id;
    $media_type = $item-&#62;sip_media_type;
    $bool       = $item-&#62;magnetic_media;
    $locn       = $item-&#62;permanent_location;
    $locn       = $item-&#62;current_location;
    $props      = $item-&#62;sip_item_props;
    $owner      = $item-&#62;owner;
    $str        = $item-&#62;sip_circulation_status;
    $bool       = $item-&#62;available;
    @hold_queue = $item-&#62;hold_queue;
    $pos        = $item-&#62;hold_queue_position($patron_id);
    $due        = $item-&#62;due_date;
    $pickup     = $item-&#62;hold_pickup_date;
    $recall     = $item-&#62;recall_date;
    $fee        = $item-&#62;fee;
    $currency   = $item-&#62;fee_currency;
    $type       = $item-&#62;sip_fee_type;
    $mark       = $item-&#62;sip_security_marker;
    $msg        = $item-&#62;screen_msg;
    $msg        = $item-&#62;print_line;

    # Operations on items
    $status = $item-&#62;status_update($item_props);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>An <code>ILS::Item</code> object holds the information necessary to circulate an item in the library&#39;s collection. It does not need to be a complete bibliographic description of the item; merely basic human-appropriate identifying information is necessary (that is, not the barcode, but just a title, and maybe author).</p>

<p>For the most part, <code>ILS::Item</code>s are not operated on directly, but are passed to <code>ILS</code> methods as part of a transaction. That is, rather than having an item check itself in:</p>

<pre>        $item-&#62;checkin;</pre>

<p>the code tells the ILS that the item has returned:</p>

<pre>        $ils-&#62;checkin($item_id);</pre>

<p>Similarly, patron&#39;s don&#39;t check things out (a la, <code>$patron-&#62;checkout($item)</code>), but the ILS checks items out to patrons. This means that the methods that are defined for items are, almost exclusively, methods to retrieve information about the state of the item.</p>

<dl>
<dt><a name="$item_id_=_$item-&#62;id"
><code>$item_id = $item-&#62;id</code></a></dt>

<dd>
<p>Return the item ID, or barcode, of <code>$item</code>.</p>

<dt><a name="$title_=_$item-&#62;title_id"
><code>$title = $item-&#62;title_id</code></a></dt>

<dd>
<p>Return the title, or some other human-relevant description, of the item.</p>

<dt><a name="$media_type_=_$item-&#62;media_type"
><code>$media_type = $item-&#62;media_type</code></a></dt>

<dd>
<p>Return the SIP-defined media type of the item. The specification provides the following definitions:</p>

<pre>        000 Other
        001 Book
        002 Magazine
        003 Bound journal
        004 Audio tape
        005 Video tape
        006 CD/CDROM
        007 Diskette
        008 Book with diskette
        009 Book with CD
        010 Book with audio tape</pre>

<p>The SIP server does not use the media type code to alter its behavior at all; it merely passes it through to the self-service terminal. In particular, it does not set indicators related to whether an item is magnetic, or whether it should be desensitized, based on this return type. The <code>$item-&#62;magnetic_media</code> method will be used for that purpose.</p>

<dt><a name="magnetic_media"
><code>magnetic_media</code></a></dt>

<dd>
<p>Is the item some form of magnetic media (eg, a video or a book with an accompanying floppy)? This method will not be called unless</p>

<pre>    $ils-&#62;supports(&#39;magnetic media&#39;)</pre>

<p>returns <code>true</code>.</p>

<p>If this method is defined, it is assumed to return either <code>true</code> or <code>false</code> for every item. If the magnetic media indication is not supported by the ILS, then the SIP server will indicate that all items are &#39;Unknown&#39;.</p>

<dt><a name="$locn_=_$item-&#62;permanent_location"
><code>$locn = $item-&#62;permanent_location</code></a></dt>

<dd>
<p>Where does this item normally reside? The protocol specification is not clear on whether this is the item&#39;s &#34;home branch&#34;, or a location code within the branch, merely stating that it is, &#34;The location where an item is normally stored after being checked in.&#34;</p>

<dt><a name="$locn_=_$item-&#62;current_location"
><code>$locn = $item-&#62;current_location</code></a></dt>

<dd>
<p>According to the protocol, &#34;[T]he current location of the item. [A checkin terminal] could set this field to the ... system terminal location on a Checkin message.&#34;</p>

<dt><a name="$props_=_$item-&#62;sip_item_props"
><code>$props = $item-&#62;sip_item_props</code></a></dt>

<dd>
<p>Returns &#34;item properties&#34; associated with the item. This is an (optional) opaque string that is passed between the self-service terminals and the ILS. It can be set by the terminal, and should be stored in the ILS if it is.</p>

<dt><a name="$owner_=_$item-&#62;owner"
><code>$owner = $item-&#62;owner</code></a></dt>

<dd>
<p>The spec says, &#34;This field might contain the name of the institution or library that owns the item.&#34;</p>

<dt><a name="$str_=_$item-&#62;sip_circulation_status"
><code>$str = $item-&#62;sip_circulation_status</code></a></dt>

<dd>
<p>Returns a two-character string describing the circulation status of the item, as defined in the specification:</p>

<pre>        01 Other
        02 On order
        03 Available
        04 Charged
        05 Charged; not to be recalled until earliest recall date
        06 In process
        07 Recalled
        08 Waiting on hold shelf
        09 Waiting to be re-shelved
        10 In transit between library locations
        11 Claimed returned
        12 Lost
        13 Missing</pre>

<dt><a name="$bool_=_$item-&#62;available"
><code>$bool = $item-&#62;available</code></a></dt>

<dd>
<p>Is the item available? That is, not checked out, and not on the hold shelf?</p>

<dt><a name="@hold_queue_=_$item-&#62;hold_queue"
><code>@hold_queue = $item-&#62;hold_queue</code></a></dt>

<dd>
<p>Returns a list of the <code>$patron_id</code>s of the patrons that have outstanding holds on the item.</p>

<dt><a name="$pos_=_$item-&#62;hold_queue_position($patron_id)"
><code>$pos = $item-&#62;hold_queue_position($patron_id)</code></a></dt>

<dd>
<p>Returns the location of <code>$patron_id</code> in the hold queue for the item, with &#39;1&#39; indicating the next person to receive the item. A return status of &#39;0&#39; indicates that <code>$patron_id</code> does not have a hold on the item.</p>

<dt><a name="$date_=_$item-&#62;recall_date_=item_$date_=_$item-&#62;hold_pickup_date"
><code>$date = $item-&#62;recall_date</code> =item <code>$date = $item-&#62;hold_pickup_date</code></a></dt>

<dd>
<p>These functions all return the corresponding date as a standard SIP-format timestamp:</p>

<pre>        YYYYMMDDZZZZHHMMSS</pre>

<p>Where the <code>&#39;Z&#39;</code> characters indicate spaces.</p>

<dt><a name="$date_=_$item-&#62;due_date"
><code>$date = $item-&#62;due_date</code></a></dt>

<dd>
<p>Returns the date the item is due. The format for this timestamp is not defined by the specification, but it should be something simple for a human reader to understand.</p>

<dt><a name="$fee_=_$item-&#62;fee"
><code>$fee = $item-&#62;fee</code></a></dt>

<dd>
<p>The amount of the fee associated with borrowing this item.</p>

<dt><a name="$currency_=_$item-&#62;fee_currency"
><code>$currency = $item-&#62;fee_currency</code></a></dt>

<dd>
<p>The currency in which the fee type above is denominated. This field is the ISO standard 4217 three-character currency code. It is highly unlikely that many systems will denominate fees in more than one currency, however.</p>

<dt><a name="$type_=_$item-&#62;sip_fee_type"
><code>$type = $item-&#62;sip_fee_type</code></a></dt>

<dd>
<p>The type of fee being charged, as defined by the SIP protocol specification:</p>

<pre>        01 Other/unknown
        02 Administrative
        03 Damage
        04 Overdue
        05 Processing
        06 Rental
        07 Replacement
        08 Computer access charge
        09 Hold fee</pre>

<dt><a name="$mark_=_$item-&#62;sip_security_marker"
><code>$mark = $item-&#62;sip_security_marker</code></a></dt>

<dd>
<p>The type of security system with which the item is tagged:</p>

<pre>        00 Other
        01 None
        02 3M Tattle-tape
        03 3M Whisper tape</pre>

<dt><a name="$msg_=_$item-&#62;screen_msg"
><code>$msg = $item-&#62;screen_msg</code></a></dt>

<dd>
<dt><a name="$msg_=_$item-&#62;print_line"
><code>$msg = $item-&#62;print_line</code></a></dt>

<dd>
<p>The usual suspects.</p>
</dd>
</dl>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
