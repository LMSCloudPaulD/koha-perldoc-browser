<html><head><title>delete_patrons</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>" />

<link rel="stylesheet" href="../../sub.css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Thu Jul  4 12:06:59 2024 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#OPTIONS'>OPTIONS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>delete_patrons - This script deletes patrons</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>delete_patrons.pl [-h|--help] [-v|--verbose] [-c|--confirm] [--not_borrowed_since=DATE] [--expired_before=DATE] [--last-seen=DATE] [--category_code=CAT] [--category_code=CAT ...] [--library=LIBRARY] [--file=FILE]</p>

<p>Dates should be in ISO format,
e.g.,
2013-07-19,
and can be generated with `date -d &#39;-3 month&#39; --iso-8601`.</p>

<p>The options to select the patron records to delete are cumulative.
For example,
supplying both --expired_before and --library specifies that that patron records must meet both conditions to be selected for deletion.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-h|--help"
><b>-h|--help</b></a></dt>

<dd>
<p>Print a brief help message</p>

<dt><a name="--not_borrowed_since"
><b>--not_borrowed_since</b></a></dt>

<dd>
<p>Delete patrons who have not borrowed since this date.</p>

<p>NOTE: Patrons who have all their old checkouts anonymized will have an empty circulation history and be deleted if this option is used.
Anonymization can happen because the patron has borrowers.privacy = 2,
through cronjobs doing anonymization or by the patron choosing to anonymize their history in the OPAC.</p>

<dt><a name="--expired_before"
><b>--expired_before</b></a></dt>

<dd>
<p>Delete patrons with an account expired before this date.</p>

<dt><a name="--last_seen"
><b>--last_seen</b></a></dt>

<dd>
<p>Delete patrons who have not been active since this date.</p>

<p>The system preference TrackLastPatronActivityTriggers must contain at least one trigger to use this option.</p>

<dt><a name="--category_code"
><b>--category_code</b></a></dt>

<dd>
<p>Delete patrons who have this category code.</p>

<p>Can be used multiple times for additional category codes.</p>

<dt><a name="--library"
><b>--library</b></a></dt>

<dd>
<p>Delete patrons in this library.</p>

<dt><a name="--file"
><b>--file</b></a></dt>

<dd>
<p>Delete patrons whose borrower numbers are in this file.
If other criteria are defined it will only delete those in the file that match those criteria.</p>

<dt><a name="-c|--confirm"
><b>-c|--confirm</b></a></dt>

<dd>
<p>This flag must be provided in order for the script to actually delete patron records.
If it is not supplied,
the script will only report on the patron records it would have deleted.</p>

<dt><a name="-v|--verbose"
><b>-v|--verbose</b></a></dt>

<dd>
<p>Verbose mode.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Jonathan Druart &#60;jonathan.druart@biblibre.com&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright 2013 BibLibre</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>This file is part of Koha.</p>

<p># Koha is free software; you can redistribute it and/or modify it # under the terms of the GNU General Public License as published by # the Free Software Foundation; either version 3 of the License,
or # (at your option) any later version.
# # Koha is distributed in the hope that it will be useful,
but # WITHOUT ANY WARRANTY; without even the implied warranty of # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the # GNU General Public License for more details.
# # You should have received a copy of the GNU General Public License # along with Koha; if not,
see &#60;http://www.gnu.org/licenses&#62;.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
