<html><head><title>C4::Budgets</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>" />

<link rel="stylesheet" href="../sub.css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Thu Feb 16 12:30:21 2023 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS_ABOUT_BUDGETS'>FUNCTIONS ABOUT BUDGETS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#GetBudgetName'>GetBudgetName</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetAuthCats'>GetBudgetAuthCats</a>
    <li class='indexItem indexItem2'><a href='#GetBudget'>GetBudget</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetByOrderNumber'>GetBudgetByOrderNumber</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetReport'>GetBudgetReport</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetsByActivity'>GetBudgetsByActivity</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetsReport'>GetBudgetsReport</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetByCode'>GetBudgetByCode</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetHierarchySpent'>GetBudgetHierarchySpent</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetHierarchyOrdered'>GetBudgetHierarchyOrdered</a>
    <li class='indexItem indexItem2'><a href='#GetBudgets'>GetBudgets</a>
    <li class='indexItem indexItem2'><a href='#GetBudgetUsers'>GetBudgetUsers</a>
    <li class='indexItem indexItem2'><a href='#ModBudgetUsers'>ModBudgetUsers</a>
    <li class='indexItem indexItem2'><a href='#CloneBudgetPeriod'>CloneBudgetPeriod</a>
    <li class='indexItem indexItem2'><a href='#CloneBudgetHierarchy'>CloneBudgetHierarchy</a>
    <li class='indexItem indexItem2'><a href='#MoveOrders'>MoveOrders</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS_ABOUT_BUDGETS"
>FUNCTIONS ABOUT BUDGETS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetName"
>GetBudgetName</a></h2>

<pre>  my $budget_name = &#38;GetBudgetName($budget_id);</pre>

<p>get the budget_name for a given budget_id</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetAuthCats"
>GetBudgetAuthCats</a></h2>

<pre>  my $auth_cats = &#38;GetBudgetAuthCats($budget_period_id);</pre>

<p>Return the list of authcat for a given budget_period_id</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudget"
>GetBudget</a></h2>

<pre>  &#38;GetBudget($budget_id);</pre>

<p>get a specific budget</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetByOrderNumber"
>GetBudgetByOrderNumber</a></h2>

<pre>  &#38;GetBudgetByOrderNumber($ordernumber);</pre>

<p>get a specific budget by order number</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetReport"
>GetBudgetReport</a></h2>

<pre>  &#38;GetBudgetReport( [$budget_id] );</pre>

<p>Get all orders for a specific budget, without cancelled orders.</p>

<p>Returns an array of hashrefs.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetsByActivity"
>GetBudgetsByActivity</a></h2>

<pre>  &#38;GetBudgetsByActivity( $budget_period_active );</pre>

<p>Get all active or inactive budgets, depending of the value of the parameter.</p>

<p>1 = active 0 = inactive</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetsReport"
>GetBudgetsReport</a></h2>

<pre>  &#38;GetBudgetsReport( [$activity] );</pre>

<p>Get all but cancelled orders for all funds.</p>

<p>If the optionnal activity parameter is passed, returns orders for active/inactive budgets only.</p>

<p>active = 1 inactive = 0</p>

<p>Returns an array of hashrefs.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetByCode"
>GetBudgetByCode</a></h2>

<pre>    my $budget = &#38;GetBudgetByCode($budget_code);</pre>

<p>Retrieve all aqbudgets fields as a hashref for the budget that has given budget_code</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetHierarchySpent"
>GetBudgetHierarchySpent</a></h2>

<pre>  my $spent = GetBudgetHierarchySpent( $budget_id );</pre>

<p>Gets the total spent of the level and sublevels of $budget_id</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetHierarchyOrdered"
>GetBudgetHierarchyOrdered</a></h2>

<pre>  my $ordered = GetBudgetHierarchyOrdered( $budget_id );</pre>

<p>Gets the total ordered of the level and sublevels of $budget_id</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgets"
>GetBudgets</a></h2>

<pre>  &#38;GetBudgets($filter, $order_by);</pre>

<p>gets all budgets</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetBudgetUsers"
>GetBudgetUsers</a></h2>

<pre>    my @borrowernumbers = &#38;GetBudgetUsers($budget_id);</pre>

<p>Return the list of borrowernumbers linked to a budget</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ModBudgetUsers"
>ModBudgetUsers</a></h2>

<pre>    &#38;ModBudgetUsers($budget_id, @borrowernumbers);</pre>

<p>Modify the list of borrowernumbers linked to a budget</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="CloneBudgetPeriod"
>CloneBudgetPeriod</a></h2>

<pre>  my $new_budget_period_id = CloneBudgetPeriod({
    budget_period_id =&#62; $budget_period_id,
    budget_period_startdate =&#62; $budget_period_startdate,
    budget_period_enddate   =&#62; $budget_period_enddate,
    mark_original_budget_as_inactive =&#62; 1n
    reset_all_budgets =&#62; 1,
  });</pre>

<p>Clone a budget period with all budgets. If the mark_origin_budget_as_inactive is set (0 by default), the original budget will be marked as inactive.</p>

<p>If the reset_all_budgets is set (0 by default), all budget (fund) amounts will be reset.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="CloneBudgetHierarchy"
>CloneBudgetHierarchy</a></h2>

<pre>  CloneBudgetHierarchy({
    budgets =&#62; $budgets,
    new_budget_period_id =&#62; $new_budget_period_id;
  });</pre>

<p>Clone a budget hierarchy.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="MoveOrders"
>MoveOrders</a></h2>

<pre>  my $report = MoveOrders({
    from_budget_period_id =&#62; $from_budget_period_id,
    to_budget_period_id   =&#62; $to_budget_period_id,
  });</pre>

<p>Move orders from one budget period to another.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Koha Development Team &#60;http://koha-community.org/&#62;</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
