<html><head><title>C4::Labels::Label</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>" />

<link rel="stylesheet" href="../../sub.css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Sun Mar 31 12:11:32 2024 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#ABSTRACT'>ABSTRACT</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new()'>new()</a>
    <li class='indexItem indexItem2'><a href='#get_label_type()'>get_label_type()</a>
    <li class='indexItem indexItem2'><a href='#get_attr(%24attribute)'>get_attr($attribute)</a>
    <li class='indexItem indexItem2'><a href='#create_label()'>create_label()</a>
    <li class='indexItem indexItem2'><a href='#draw_label_text()'>draw_label_text()</a>
    <li class='indexItem indexItem2'><a href='#barcode()'>barcode()</a>
    <li class='indexItem indexItem2'><a href='#csv_data()'>csv_data()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#DISCLAIMER_OF_WARRANTY'>DISCLAIMER OF WARRANTY</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>C4::Labels::Label - A class for creating and manipulating label objects in Koha</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ABSTRACT"
>ABSTRACT</a></h1>

<p>This module provides methods for creating,
and otherwise manipulating single label objects used by Koha to create and export labels.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new()"
>new()</a></h2>

<pre>    Invoking the I&#60;new&#62; method constructs a new label object containing the supplied values. Depending on the final output format of the label data
    the minimal required parameters change. (See the implimentation of this object type in labels/label-create-pdf.pl and labels/label-create-csv.pl
    and labels/label-create-xml.pl for examples.) The following parameters are optionally accepted as key =&#62; value pairs:

        C&#60;batch_id&#62;             Batch id with which this label is associated
        C&#60;item_number&#62;          Item number of item to be the data source for this label
        C&#60;height&#62;               Height of this label (All measures passed to this method B&#60;must&#62; be supplied in postscript points)
        C&#60;width&#62;                Width of this label
        C&#60;top_text_margin&#62;      Top margin of this label
        C&#60;left_text_margin&#62;     Left margin of this label
        C&#60;barcode_type&#62;         Defines the barcode type to be used on labels. NOTE: At present only the following barcode types are supported in the label creator code:</pre>

<dl>
<dt><a name="._CODE39_=_Code_3_of_9"
>. CODE39 = Code 3 of 9</a></dt>

<dd>
<dt><a name="._CODE39MOD_=_Code_3_of_9_with_modulo_43_checksum"
>. CODE39MOD = Code 3 of 9 with modulo 43 checksum</a></dt>

<dd>
<dt><a name="._CODE39MOD10_=_Code_3_of_9_with_modulo_10_checksum"
>. CODE39MOD10 = Code 3 of 9 with modulo 10 checksum</a></dt>

<dd>
<dt><a name="._COOP2OF5_=_A_variant_of_2_of_5_barcode_based_on_NEC&#39;s_&#34;Process_8000&#34;_code"
>. COOP2OF5 = A variant of 2 of 5 barcode based on NEC&#39;s &#34;Process 8000&#34; code</a></dt>

<dd>
<dt><a 
>. INDUSTRIAL2OF5 = The standard 2 of 5 barcode (a binary level bar code developed by Identicon Corp. and Computer Identics Corp. in 1970)</a></dt>

<dd>
<dt><a name="._EAN13_=_The_standard_EAN-13_barcode"
>. EAN13 = The standard EAN-13 barcode</a></dt>
</dl>

<pre>        C&#60;printing_type&#62;        Defines the general layout to be used on labels. NOTE: At present there are only five printing types supported in the label creator code:</pre>

<dl>
<dt><a name="._BIB_=_Only_the_bibliographic_data_is_printed"
>. BIB = Only the bibliographic data is printed</a></dt>

<dd>
<dt><a name="._BARBIB_=_Barcode_proceeds_bibliographic_data"
>. BARBIB = Barcode proceeds bibliographic data</a></dt>

<dd>
<dt><a name="._BIBBAR_=_Bibliographic_data_proceeds_barcode"
>. BIBBAR = Bibliographic data proceeds barcode</a></dt>

<dd>
<dt><a name="._ALT_=_Barcode_and_bibliographic_data_are_printed_on_alternating_labels"
>. ALT = Barcode and bibliographic data are printed on alternating labels</a></dt>

<dd>
<dt><a name="._BAR_=_Only_the_barcode_is_printed"
>. BAR = Only the barcode is printed</a></dt>
</dl>

<pre>        C&#60;guidebox&#62;             Setting this to &#39;1&#39; will result in a guide box being drawn around the labels marking the edge of each label
        C&#60;font&#62;                 Defines the type of font to be used on labels. NOTE: The following fonts are available by default on most systems:</pre>

<dl>
<dt><a name="._TR_=_Times-Roman"
>. TR = Times-Roman</a></dt>

<dd>
<dt><a name="._TB_=_Times_Bold"
>. TB = Times Bold</a></dt>

<dd>
<dt><a name="._TI_=_Times_Italic"
>. TI = Times Italic</a></dt>

<dd>
<dt><a name="._TBI_=_Times_Bold_Italic"
>. TBI = Times Bold Italic</a></dt>

<dd>
<dt><a name="._C_=_Courier"
>. C = Courier</a></dt>

<dd>
<dt><a name="._CB_=_Courier_Bold"
>. CB = Courier Bold</a></dt>

<dd>
<dt><a name="._CO_=_Courier_Oblique_(Italic)"
>. CO = Courier Oblique (Italic)</a></dt>

<dd>
<dt><a name="._CBO_=_Courier_Bold_Oblique"
>. CBO = Courier Bold Oblique</a></dt>

<dd>
<dt><a name="._H_=_Helvetica"
>. H = Helvetica</a></dt>

<dd>
<dt><a name="._HB_=_Helvetica_Bold"
>. HB = Helvetica Bold</a></dt>

<dd>
<dt><a name="._HBO_=_Helvetical_Bold_Oblique"
>. HBO = Helvetical Bold Oblique</a></dt>
</dl>

<pre>        C&#60;font_size&#62;            Defines the size of the font in postscript points to be used on labels
        C&#60;callnum_split&#62;        Setting this to &#39;1&#39; will enable call number splitting on labels
        C&#60;text_justify&#62;         Defines the text justification to be used on labels. NOTE: The following justification styles are currently supported by label creator code:</pre>

<dl>
<dt><a name="._L_=_Left"
>. L = Left</a></dt>

<dd>
<dt><a name="._C_=_Center"
>. C = Center</a></dt>

<dd>
<dt><a name="._R_=_Right"
>. R = Right</a></dt>
</dl>

<pre>        C&#60;format_string&#62;        Defines what fields will be printed and in what order they will be printed on labels. These include any of the data fields that may be mapped
                                to your MARC frameworks. Specify MARC subfields as a 4-character tag-subfield string: ie. 254a Enclose a whitespace-separated list of fields
                                to concatenate on one line in double quotes. ie. &#34;099a 099b&#34; or &#34;itemcallnumber barcode&#34; Static text strings may be entered in single-quotes:
                                ie. &#39;Some static text here.&#39;
        C&#60;text_wrap_cols&#62;       Defines the column after which the text will wrap to the next line.</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_label_type()"
>get_label_type()</a></h2>

<pre>   Invoking the I&#60;get_label_type&#62; method will return the printing type of the label object.

   example:
        C&#60;my $label_type = $label-&#62;get_label_type();&#62;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_attr($attribute)"
>get_attr($attribute)</a></h2>

<pre>    Invoking the I&#60;get_attr&#62; method will return the value of the requested attribute or -1 on errors.

    example:
        C&#60;my $value = $label-&#62;get_attr($attribute);&#62;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="create_label()"
>create_label()</a></h2>

<pre>    Invoking the I&#60;create_label&#62; method generates the text for that label and returns it as an arrayref of an array contianing the formatted text as well as creating the barcode
    and writing it directly to the pdf stream. The handling of the barcode is not quite good OO form due to the linear format of PDF::Reuse::Barcode. Be aware that the instantiating
    code is responsible to properly format the text for insertion into the pdf stream as well as the actual insertion.

    example:
        my $label_text = $label-&#62;create_label();</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="draw_label_text()"
>draw_label_text()</a></h2>

<pre>    Invoking the I&#60;draw_label_text&#62; method generates the label text for the label object and returns it as an arrayref of an array containing the formatted text. The same caveats
    apply to this method as to C&#60;create_label()&#62;. This method accepts the following parameters as key =&#62; value pairs: (NOTE: The unit is the postscript point - 72 per inch)

        C&#60;llx&#62;                  The lower-left x coordinate for the text block (The point of origin for all PDF&#39;s is the lower left of the page per ISO 32000-1)
        C&#60;lly&#62;                  The lower-left y coordinate for the text block
        C&#60;top_text_margin&#62;      The top margin for the text block.
        C&#60;line_spacer&#62;          The number of pixels between text rows (This is actually leading: baseline to baseline minus font size. Recommended starting point is 20% of font size)
        C&#60;font&#62;                 The font to use for this label. See documentation on the new() method for supported fonts.
        C&#60;font_size&#62;            The font size in points to use for this label.
        C&#60;justify&#62;              The style of justification to use for this label. See documentation on the new() method for supported justification styles.

    example:
       C&#60;my $label_text = $label-&#62;draw_label_text(
                                                llx                 =&#62; $text_llx,
                                                lly                 =&#62; $text_lly,
                                                top_text_margin     =&#62; $label_top_text_margin,
                                                line_spacer         =&#62; $text_leading,
                                                font                =&#62; $text_font,
                                                font_size           =&#62; $text_font_size,
                                                justify             =&#62; $text_justification,
                        );&#62;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="barcode()"
>barcode()</a></h2>

<pre>    Invoking the I&#60;barcode&#62; method generates a barcode for the label object and inserts it into the current pdf stream. This method accepts the following parameters as key =&#62; value
    pairs (C&#60;barcode_data&#62; is optional and omitting it will cause the barcode from the current item to be used. C&#60;barcode_type&#62; is also optional. Omission results in the barcode
    type of the current template being used.):

        C&#60;llx&#62;                  The lower-left x coordinate for the barcode block (The point of origin for all PDF&#39;s is the lower left of the page per ISO 32000-1)
        C&#60;lly&#62;                  The lower-left y coordinate for the barcode block
        C&#60;width&#62;                The width of the barcode block
        C&#60;y_scale_factor&#62;       The scale factor to be applied to the y axis of the barcode block
        C&#60;barcode_data&#62;         The data to be encoded in the barcode
        C&#60;barcode_type&#62;         The barcode type (See the C&#60;new()&#62; method for supported barcode types)

    example:
       C&#60;$label-&#62;barcode(
                    llx                 =&#62; $barcode_llx,
                    lly                 =&#62; $barcode_lly,
                    width               =&#62; $barcode_width,
                    y_scale_factor      =&#62; $barcode_y_scale_factor,
                    barcode_data        =&#62; $barcode,
                    barcode_type        =&#62; $barcodetype,
        );&#62;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="csv_data()"
>csv_data()</a></h2>

<pre>    Invoking the I&#60;csv_data&#62; method returns an arrayref of an array containing the label data suitable for passing to Text::CSV_XS-&#62;combine() to produce csv output.

    example:
        C&#60;my $csv_data = $label-&#62;csv_data();&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Mason James &#60;mason@katipo.co.nz&#62;</p>

<p>Chris Nighswonger &#60;cnighswonger AT foundations DOT edu&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright 2006 Katipo Communications.</p>

<p>Copyright 2009 Foundations Bible College.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>This file is part of Koha.</p>

<p>Koha is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</p>

<p>Koha is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>

<p>You should have received a copy of the GNU General Public License along with Koha; if not, see &#60;http://www.gnu.org/licenses&#62;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DISCLAIMER_OF_WARRANTY"
>DISCLAIMER OF WARRANTY</a></h1>

<p>Koha is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
