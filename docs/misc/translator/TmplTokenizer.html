<html><head><title>TmplTokenizer.pm</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>" />

<link rel="stylesheet" href="../../sub.css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Tue Apr 18 12:28:19 2023 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#c-format_strings_emulation'>c-format strings emulation</a>
    <li class='indexItem indexItem2'><a href='#The_flag_characters'>The flag characters</a>
    <li class='indexItem indexItem2'><a href='#The_field_width_and_precision'>The field width and precision</a>
    <li class='indexItem indexItem2'><a href='#The_conversion_specifier'>The conversion specifier</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#HISTORY'>HISTORY</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>TmplTokenizer.pm - Simple-minded wrapper class for TTParser</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>A wrapper for the functionality found in TTParser to allow an easier transition to Template Toolkit</p>

<p>In addition to the basic scanning,
this class will also perform the following:</p>

<dl>
<dt><a name="-"
>-</a></dt>

<dd>
<p>Emulation of c-format strings (see below)</p>

<dt><a name="-"
>-</a></dt>

<dd>
<p>Display of warnings for certain things that affects either the ability of this class to yield correct output,
or things that are known to cause the original template to cause trouble.</p>

<dt><a name="-"
>-</a></dt>

<dd>
<p>Automatic correction of some of the things warned about (e.g.,
SGML &#34;closed start tag&#34; notation).</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="c-format_strings_emulation"
>c-format strings emulation</a></h2>

<p>Because English word order is not universal,
a simple extraction of translatable strings may yield some strings like &#34;Accounts for&#34; or ambiguous strings like &#34;in&#34;.
This makes the resulting strings difficult to translate,
but does not affect all languages alike.
For example,
Chinese (with a somewhat different word order) would be hit harder,
but French would be relatively unaffected.</p>

<p>To overcome this problem,
the scanner can be configured to detect patterns with &#60;TMPL_VAR&#62; directives (as well as certain HTML tags),
and try to construct a larger pattern that will appear in the PO file as c-format strings with %s placeholders.
This additional step allows the translator to deal with cases where word order is different (replacing %s with %1$s,
%2$s,
etc.),
or when certain words will require certain inflectional suffixes in sentences.</p>

<p>Because this is an incompatible change,
this mode must be explicitly turned on using the set_allow_cformat(1) method call.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_flag_characters"
>The flag characters</a></h2>

<p>The character % is followed by zero or more of the following flags:</p>

<dl>
<dt><a name="#"
>#</a></dt>

<dd>
<p>The value comes from HTML &#60;INPUT&#62; elements.
This abuse of the flag character is somewhat reasonable,
since TMPL_VAR and INPUT are both variables,
but of different kinds.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_field_width_and_precision"
>The field width and precision</a></h2>

<p>An optional 0.0 can be specified for %s to specify that the &#60;TMPL_VAR&#62; should be suppressed.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_conversion_specifier"
>The conversion specifier</a></h2>

<dl>
<dt><a name="p"
>p</a></dt>

<dd>
<p>Specifies any input field that is neither text nor hidden (which currently mean radio buttons).
The p conversion specifier is chosen because this does not evoke any certain sensible data type.</p>

<dt><a name="S"
>S</a></dt>

<dd>
<p>Specifies a text input field (&#60;INPUT TYPE=TEXT&#62;).
This use of the S conversion specifier is somewhat reasonable,
since text input fields contain values of undeterminable type,
which can be treated as strings.</p>

<dt><a name="s"
>s</a></dt>

<dd>
<p>Specifies a &#60;TMPL_VAR&#62;.
This use of the o conversion specifier is somewhat reasonable,
since &#60;TMPL_VAR&#62; denotes values of undeterminable type,
which can be treated as strings.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>There is no code to save the tag name anywhere in the scanned token.</p>

<p>The use of &#60;A<i>i</i>&#62; to stand for the <i>i</i>th anchor is not very well thought out.
Some abuse of c-format specifies might have been more appropriate.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="HISTORY"
>HISTORY</a></h1>

<p>This tokenizer is mostly based on Ambrose&#39;s hideous Perl script known as subst.pl.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
