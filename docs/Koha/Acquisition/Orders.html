<html><head><title>Koha::Acquisition::Orders object set class</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>" />

<link rel="stylesheet" href="../../sub.css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Thu Nov  7 00:20:02 2024 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#API'>API</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Class_methods'>Class methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#filter_by_lates'>filter_by_lates</a>
      <li class='indexItem indexItem3'><a href='#filter_by_active'>filter_by_active</a>
      <li class='indexItem indexItem3'><a href='#filter_out_cancelled'>filter_out_cancelled</a>
      <li class='indexItem indexItem3'><a href='#filter_by_cancelled'>filter_by_cancelled</a>
      <li class='indexItem indexItem3'><a href='#filter_by_id_including_transfers'>filter_by_id_including_transfers</a>
      <li class='indexItem indexItem3'><a href='#filter_by_obsolete'>filter_by_obsolete</a>
      <li class='indexItem indexItem3'><a href='#cancel'>cancel</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Internal_methods'>Internal methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#_type'>_type</a>
      <li class='indexItem indexItem3'><a href='#object_class'>object_class</a>
    </ul>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Koha::Acquisition::Orders object set class</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="API"
>API</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Class_methods"
>Class methods</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="filter_by_lates"
>filter_by_lates</a></h3>

<p>my $late_orders = $orders-&#62;filter_by_lates($params);</p>

<p>Filter an order set given different parameters.</p>

<p>This is the equivalent method of the former GetLateOrders C4 subroutine</p>

<p>$params can be:</p>

<dl>
<dt><a name="delay_the_number_of_days_the_basket_has_been_closed"
><code>delay</code> the number of days the basket has been closed</a></dt>

<dd>
<dt><a name="bookseller_id_the_bookseller_id"
><code>bookseller_id</code> the bookseller id</a></dt>

<dd>
<dt><a name="estimated_from_Beginning_of_the_estimated_delivery_date"
><code>estimated_from</code> Beginning of the estimated delivery date</a></dt>

<dd>
<dt><a name="estimated_to_End_of_the_estimated_delivery_date"
><code>estimated_to</code> End of the estimated delivery date</a></dt>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="filter_by_active"
>filter_by_active</a></h3>

<pre>    my $new_rs = $orders-&#62;filter_by_active;</pre>

<p>Returns a new resultset containing active orders only.</p>

<p>Note: An active order (line) has status ordered or partial, or it has status new and the basket is marked as standing order. Additionally, we still expect items on this order (checking quantity and quantityreceived).</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="filter_out_cancelled"
>filter_out_cancelled</a></h3>

<pre>    $orders-&#62;filter_out_cancelled</pre>

<p>Return the orders of the set that have not been cancelled.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="filter_by_cancelled"
>filter_by_cancelled</a></h3>

<pre>    $orders-&#62;filter_by_cancelled</pre>

<p>Return the orders of the set that have been cancelled.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="filter_by_id_including_transfers"
>filter_by_id_including_transfers</a></h3>

<pre>    my $orders = $orders-&#62;filter_by_id_including_transfers(
        {
            ordernumber =&#62; $ordernumber
        }
    );</pre>

<p>When searching for orders by <i>ordernumber</i>, include the aqorders_transfers table so we can find orders that have changed their ordernumber as the result of a transfer</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="filter_by_obsolete"
>filter_by_obsolete</a></h3>

<pre>    $orders-&#62;filter_by_obsolete( $age );

    What are obsolete orders here?
    [1] Order lines that have no biblio anymore but are still considered open
        (received &#60; ordered, not cancelled).
    [2] Order lines with status &#39;cancelled&#39; but no cancellation date.
    [3] Order lines with cancellation date and no status &#39;cancelled&#39;.

    An optional parameter age may limit the selection by entrydate older than $age days.</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="cancel"
>cancel</a></h3>

<pre>    $orders_rs-&#62;cancel( { delete_biblio =&#62; 0|1 } );

    Returns a count and diagnostic object messages.</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Internal_methods"
>Internal methods</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="_type"
>_type</a></h3>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="object_class"
>object_class</a></h3>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
