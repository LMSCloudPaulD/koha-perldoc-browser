<html><head><title>Koha::Acquisition::Basket</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>" />

<link rel="stylesheet" href="../../sub.css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Fri Mar 10 06:21:31 2023 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#API'>API</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Class_methods'>Class methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#bookseller'>bookseller</a>
      <li class='indexItem indexItem3'><a href='#creator'>creator</a>
      <li class='indexItem indexItem3'><a href='#basket_group'>basket_group</a>
      <li class='indexItem indexItem3'><a href='#orders'>orders</a>
      <li class='indexItem indexItem3'><a href='#edi_order'>edi_order</a>
      <li class='indexItem indexItem3'><a href='#effective_create_items'>effective_create_items</a>
      <li class='indexItem indexItem3'><a href='#estimated_delivery_date'>estimated_delivery_date</a>
      <li class='indexItem indexItem3'><a href='#late_since_days'>late_since_days</a>
      <li class='indexItem indexItem3'><a href='#authorizer'>authorizer</a>
      <li class='indexItem indexItem3'><a href='#is_closed'>is_closed</a>
      <li class='indexItem indexItem3'><a href='#close'>close</a>
      <li class='indexItem indexItem3'><a href='#to_api'>to_api</a>
      <li class='indexItem indexItem3'><a href='#to_api_mapping'>to_api_mapping</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Internal_methods'>Internal methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#_type'>_type</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Koha::Acquisition::Basket - Koha Basket Object class</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="API"
>API</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Class_methods"
>Class methods</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="bookseller"
>bookseller</a></h3>

<p>Returns the vendor</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="creator"
>creator</a></h3>

<pre>    my $creator = $basket-&#62;creator;</pre>

<p>Returns the <i>Koha::Patron</i> for the basket creator.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="basket_group"
>basket_group</a></h3>

<p>Returns the basket group associated to this basket</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="orders"
>orders</a></h3>

<pre>    my $orders = $basket-&#62;orders;</pre>

<p>Returns a Koha::Acquisition::Orders resultset, with the orders linked to this basket.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="edi_order"
>edi_order</a></h3>

<pre>  my $edi_order = $basket-&#62;edi_order;</pre>

<p>Returns the most recently attached EDI order object if one exists for the basket.</p>

<p>NOTE: This currently returns a bare DBIx::Class result or undefined. This is consistent with the rest of EDI; However it would be beneficial to convert these to full fledge Koha::Objects in the future.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="effective_create_items"
>effective_create_items</a></h3>

<p>Returns <code>create_items</code> for this basket, falling back to <code>AcqCreateItem</code> if unset.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="estimated_delivery_date"
>estimated_delivery_date</a></h3>

<p>my $estimated_delivery_date = $basket-&#62;estimated_delivery_date;</p>

<p>Return the estimated delivery date for this basket.</p>

<p>It is calculated adding the delivery time of the vendor to the close date of this basket.</p>

<p>Return implicit undef if the basket is not closed, or the vendor does not have a delivery time.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="late_since_days"
>late_since_days</a></h3>

<p>my $number_of_days_late = $basket-&#62;late_since_days;</p>

<p>Return the number of days the basket is late.</p>

<p>Return implicit undef if the basket is not closed.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="authorizer"
>authorizer</a></h3>

<p>my $authorizer = $basket-&#62;authorizer;</p>

<p>Returns the patron who authorized/created this basket.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="is_closed"
>is_closed</a></h3>

<pre>    if ( $basket-&#62;is_closed ) { ... }</pre>

<p>Returns a boolean value representing if the basket is closed.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="close"
>close</a></h3>

<pre>    $basket-&#62;close;</pre>

<p>Close the basket and mark all open orders as ordered.</p>

<p>A <i>Koha::Exceptions::Acquisition::Basket::AlreadyClosed</i> exception is thrown if the basket is already closed.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="to_api"
>to_api</a></h3>

<pre>    my $json = $basket-&#62;to_api;</pre>

<p>Overloaded method that returns a JSON representation of the Koha::Acquisition::Basket object, suitable for API output.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="to_api_mapping"
>to_api_mapping</a></h3>

<p>This method returns the mapping for representing a Koha::Acquisition::Basket object on the API.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Internal_methods"
>Internal methods</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="_type"
>_type</a></h3>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Aleisha Amohia &#60;aleisha@catalyst.net.nz&#62; Catalyst IT</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
