<html><head><title>Koha::Recall</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>" />

<link rel="stylesheet" href="../sub.css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Fri Nov  8 00:18:44 2024 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#API'>API</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Class_methods'>Class methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#biblio'>biblio</a>
      <li class='indexItem indexItem3'><a href='#item'>item</a>
      <li class='indexItem indexItem3'><a href='#patron'>patron</a>
      <li class='indexItem indexItem3'><a href='#library'>library</a>
      <li class='indexItem indexItem3'><a href='#checkout'>checkout</a>
      <li class='indexItem indexItem3'><a href='#requested'>requested</a>
      <li class='indexItem indexItem3'><a href='#waiting'>waiting</a>
      <li class='indexItem indexItem3'><a href='#overdue'>overdue</a>
      <li class='indexItem indexItem3'><a href='#in_transit'>in_transit</a>
      <li class='indexItem indexItem3'><a href='#expired'>expired</a>
      <li class='indexItem indexItem3'><a href='#cancelled'>cancelled</a>
      <li class='indexItem indexItem3'><a href='#fulfilled'>fulfilled</a>
      <li class='indexItem indexItem3'><a href='#calc_expirationdate'>calc_expirationdate</a>
      <li class='indexItem indexItem3'><a href='#start_transfer'>start_transfer</a>
      <li class='indexItem indexItem3'><a href='#revert_transfer'>revert_transfer</a>
      <li class='indexItem indexItem3'><a href='#set_waiting'>set_waiting</a>
      <li class='indexItem indexItem3'><a href='#revert_waiting'>revert_waiting</a>
      <li class='indexItem indexItem3'><a href='#should_be_overdue'>should_be_overdue</a>
      <li class='indexItem indexItem3'><a href='#set_overdue'>set_overdue</a>
      <li class='indexItem indexItem3'><a href='#set_expired'>set_expired</a>
      <li class='indexItem indexItem3'><a href='#set_cancelled'>set_cancelled</a>
      <li class='indexItem indexItem3'><a href='#set_fulfilled'>set_fulfilled</a>
      <li class='indexItem indexItem3'><a href='#strings_map'>strings_map</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Internal_methods'>Internal methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#_type'>_type</a>
    </ul>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Koha::Recall - Koha Recall Object class</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="API"
>API</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Class_methods"
>Class methods</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="biblio"
>biblio</a></h3>

<pre>    my $biblio = $recall-&#62;biblio;</pre>

<p>Returns the related Koha::Biblio object for this recall.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="item"
>item</a></h3>

<pre>    my $item = $recall-&#62;item;</pre>

<p>Returns the related Koha::Item object for this recall.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="patron"
>patron</a></h3>

<pre>    my $patron = $recall-&#62;patron;</pre>

<p>Returns the related Koha::Patron object for this recall.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="library"
>library</a></h3>

<pre>    my $library = $recall-&#62;library;</pre>

<p>Returns the related Koha::Library object for this recall.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="checkout"
>checkout</a></h3>

<pre>    my $checkout = $recall-&#62;checkout;</pre>

<p>Returns the related Koha::Checkout object for this recall.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="requested"
>requested</a></h3>

<pre>    if ( $recall-&#62;requested )

    [% IF recall.requested %]</pre>

<p>Return true if recall status is requested.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="waiting"
>waiting</a></h3>

<pre>    if ( $recall-&#62;waiting )

    [% IF recall.waiting %]</pre>

<p>Return true if recall is awaiting pickup.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="overdue"
>overdue</a></h3>

<pre>    if ( $recall-&#62;overdue )

    [% IF recall.overdue %]</pre>

<p>Return true if recall is overdue to be returned.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="in_transit"
>in_transit</a></h3>

<pre>    if ( $recall-&#62;in_transit )

    [% IF recall.in_transit %]</pre>

<p>Return true if recall is in transit.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="expired"
>expired</a></h3>

<pre>    if ( $recall-&#62;expired )

    [% IF recall.expired %]</pre>

<p>Return true if recall has expired.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="cancelled"
>cancelled</a></h3>

<pre>    if ( $recall-&#62;cancelled )

    [% IF recall.cancelled %]</pre>

<p>Return true if recall has been cancelled.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="fulfilled"
>fulfilled</a></h3>

<pre>    if ( $recall-&#62;fulfilled )

    [% IF recall.fulfilled %]</pre>

<p>Return true if the recall has been fulfilled.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="calc_expirationdate"
>calc_expirationdate</a></h3>

<pre>    my $expirationdate = $recall-&#62;calc_expirationdate;
    $recall-&#62;update({ expirationdate =&#62; $expirationdate });</pre>

<p>Calculate the expirationdate to set based on circulation rules and system preferences.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="start_transfer"
>start_transfer</a></h3>

<pre>    my ( $recall, $dotransfer, $messages ) = $recall-&#62;start_transfer({ item =&#62; $item_object });</pre>

<p>Set the recall as in transit.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="revert_transfer"
>revert_transfer</a></h3>

<pre>    $recall-&#62;revert_transfer;</pre>

<p>If a transfer is cancelled, revert the recall to requested.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="set_waiting"
>set_waiting</a></h3>

<pre>    $recall-&#62;set_waiting(
        {   expirationdate =&#62; $expirationdate,
            item           =&#62; $item_object
        }
    );</pre>

<p>Set the recall as waiting and update expiration date. Notify the recall requester.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="revert_waiting"
>revert_waiting</a></h3>

<pre>    $recall-&#62;revert_waiting;</pre>

<p>Revert recall waiting status.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="should_be_overdue"
>should_be_overdue</a></h3>

<pre>    if ( $recall-&#62;should_be_overdue ) {
        $recall-&#62;set_overdue;
    }</pre>

<p>Return true if this recall should be marked overdue</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="set_overdue"
>set_overdue</a></h3>

<pre>    $recall-&#62;set_overdue;</pre>

<p>Set a recall as overdue when the recall has been requested and the borrower who has checked out the recalled item is late to return it. This can be done manually by the library or by cronjob. The interface is either &#39;INTRANET&#39; or &#39;COMMANDLINE&#39; for logging purposes.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="set_expired"
>set_expired</a></h3>

<pre>    $recall-&#62;set_expired({ interface =&#62; &#39;INTRANET&#39; });</pre>

<p>Set a recall as expired. This may be done manually or by a cronjob, either when the borrower that placed the recall takes more than RecallsMaxPickUpDelay number of days to collect their item, or if the specified expirationdate passes. The interface is either &#39;INTRANET&#39; or &#39;COMMANDLINE&#39; for logging purposes.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="set_cancelled"
>set_cancelled</a></h3>

<pre>    $recall-&#62;set_cancelled;</pre>

<p>Set a recall as cancelled. This may be done manually, either by the borrower that placed the recall, or by the library.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="set_fulfilled"
>set_fulfilled</a></h3>

<pre>    $recall-&#62;set_fulfilled;</pre>

<p>Set a recall as finished. This should only be called when the item allocated to a recall is checked out to the borrower who requested the recall.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="strings_map"
>strings_map</a></h3>

<p>Returns a map of column name to string representations including the string.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Internal_methods"
>Internal methods</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="_type"
>_type</a></h3>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
